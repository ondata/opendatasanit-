<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>BART Employee Salaries</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../js/d3.3.5.5.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="../keshif.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/papaparse.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="../keshif.css"/ type="text/css">
    <link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css">

    <script type="text/javascript" src="./js/demo.js" charset="utf-8"></script>
    <link rel="stylesheet" href="./css/style.css"/ type="text/css">

    <script type="text/javascript">
$(document).ready( function() {
  resizeBrowser(300,60);
  $(window).resize(function() {
    resizeBrowser(300,60);
    browser.updateLayout();
  });

  browser = new kshf.Browser({
    domID: "#chart_div",
    barChartWidth: 80,
    leftPanelLabelWidth: 200,
    rightPanelLabelWidth: 250,
    itemName: "BART Employees",
    source: {
      url: "http://blog.vctr.me/bart/",
      dirPath: 'https://ca480fa8cd553f048c65766cc0d0f07f93f6fe2f.googledrive.com/host/0By6LdDWgaqgNfmpDajZMdHMtU3FWTEkzZW9LTndWdFg0Qk9MNzd0ZW9mcjA4aUJlV0p1Zk0/',
      fileType: 'csv',
      tables: "bart_employees"
    },
    summaries: [
      { name: "Job Family" },
      { name: "Union" },
      { name: "Title" },
      { name: "Total Salary", value:"TCOE", unitName:'$', panel:'right' },
      { name: "Base Salary", value:"Base", unitName:'$', panel:'right' },
      { name: "Overtime Salary", value:"OT", unitName:'$', panel:'right' },
      { name: "Other Salary", unitName:'$', panel:'right' },
      { name: "Medical + Dental + Vision", value:"MDV", unitName:'$', panel:'right' },
      { name: "ER (Salary)", value:'ER', unitName:'$', collapsed:true, panel:'right' },
      { name: "EE (Salary)", value:'EE', unitName:'$', collapsed:true, panel:'right' },
      { name: "DC (Salary)", value:'DC', unitName:'$', intervalScale:'log', collapsed:true, panel:'right' },
      { name: "Source", panel: 'right' }
    ],
    itemDisplay: {
      sortColWidth: 70,
      sortingOpts: [ 'Total Salary', 'Base Salary', 'Overtime Salary' ],
      textSearch: "Name",
      recordView: function(){ return this.Name+" <span class='empTitle'>"+this.Title+"</span>"; }
    }
  });
});
    </script>
    <style>
.empTitle{
  display:inline-block;
  font-size: 0.8em;
  color: gray;
}
.empTitle:before{
  content: " - ";
}
.listsortcolumn > .columnLabel:after{
  content: "$";
  color: gray;
  margin-left: 3px;
  font-size: 0.9em;
}
    </style>
  </head>
  <body>
    <div class="contents"><div id="chart_div"></div></div>
  </body>
</html>